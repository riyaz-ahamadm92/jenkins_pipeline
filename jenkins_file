pipeline {
	agent { label 'master' }
 
	stages {
		stage ('STAGE 1') {
			steps {
				echo 'This is slaveforc node with STAGE 1'
				sh '''#!/bin/bash
                                git pull https://github.com/riyaz-ahamadm92/C-projects.git
                                if [ $? -ne 0 ];then
                                git clone https://github.com/riyaz-ahamadm92/C-projects.git
                                fi
                                cd C-projects
                                make clean target
                                if [ $? -eq 0 ];then
                                echo "build is success" '''
			}	
		}
		stage ('STAGE 2') {
			steps {
				echo 'This is slaveforjava with STAGE 2'
				sh 'sleep 10'
			}	
		}
	}
}
